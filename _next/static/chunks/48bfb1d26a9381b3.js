(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(75157);let l=r.forwardRef(({className:e,...r},l)=>(0,t.jsx)("div",{ref:l,className:(0,s.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...r}));l.displayName="Card",r.forwardRef(({className:e,...r},l)=>(0,t.jsx)("div",{ref:l,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...r})).displayName="CardHeader",r.forwardRef(({className:e,...r},l)=>(0,t.jsx)("div",{ref:l,className:(0,s.cn)("font-semibold leading-none tracking-tight",e),...r})).displayName="CardTitle",r.forwardRef(({className:e,...r},l)=>(0,t.jsx)("div",{ref:l,className:(0,s.cn)("text-sm text-muted-foreground",e),...r})).displayName="CardDescription",r.forwardRef(({className:e,...r},l)=>(0,t.jsx)("div",{ref:l,className:(0,s.cn)("p-6 pt-0",e),...r})).displayName="CardContent",r.forwardRef(({className:e,...r},l)=>(0,t.jsx)("div",{ref:l,className:(0,s.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",e.s(["Card",()=>l])},74878,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(19455),l=e.i(15288),a=e.i(67489);let i=[{id:"nature",src:"https://images.unsplash.com/photo-1472214103451-9374bd1c798e?q=80&w=1000&auto=format&fit=crop",label:"자연 (Nature)"},{id:"city",src:"https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?q=80&w=1000&auto=format&fit=crop",label:"도시 (City)"},{id:"cat",src:"https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?q=80&w=1000&auto=format&fit=crop",label:"고양이 (Cat)"}],c=[{id:"easy",label:"쉬움 (3x3)",rows:3,cols:3},{id:"medium",label:"보통 (4x4)",rows:4,cols:4},{id:"hard",label:"어려움 (5x5)",rows:5,cols:5}];function n(){let[e,n]=(0,r.useState)(i[0].src),[d,h]=(0,r.useState)(c[0]),[u,f]=(0,r.useState)([]),[m,p]=(0,r.useState)(!1),[x,g]=(0,r.useState)(null),[$,b]=(0,r.useState)({x:0,y:0}),[v,j]=(0,r.useState)(!1),w=(0,r.useRef)(null),[N,y]=(0,r.useState)({width:600,height:400});(0,r.useEffect)(()=>{S()},[e,d]);let S=()=>{let{rows:e,cols:t}=d,r=N.width/t,s=N.height/e,l=[];for(let a=0;a<e;a++)for(let i=0;i<t;i++){let c={top:0===a?0:-l[l.length-t].shape.bottom,right:i===t-1?0:Math.random()>.5?1:-1,bottom:a===e-1?0:Math.random()>.5?1:-1,left:0===i?0:-l[l.length-1].shape.right};l.push({id:a*t+i,currentX:Math.random()*(N.width-r),currentY:Math.random()*(N.height-s),correctX:i*r,correctY:a*s,isSolved:!1,shape:c})}f(l),j(!1)},C=(e,t)=>{t.isSolved||(e.preventDefault(),p(!0),g(t.id),f(e=>[...e.filter(e=>e.id!==t.id),t]),b({x:e.clientX-t.currentX,y:e.clientY-t.currentY}))};(0,r.useEffect)(()=>{u.length>0&&u.every(e=>e.isSolved)&&j(!0)},[u]);let X=N.width/d.cols,Y=N.height/d.rows;return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-6",onPointerMove:e=>{if(!m||null===x)return;e.preventDefault();let t=e.clientX-$.x,r=e.clientY-$.y;f(e=>e.map(e=>e.id===x?{...e,currentX:t,currentY:r}:e))},onPointerUp:()=>{if(!m||null===x)return;let e=u.find(e=>e.id===x);e&&30>Math.sqrt(Math.pow(e.currentX-e.correctX,2)+Math.pow(e.currentY-e.correctY,2))&&f(e=>e.map(e=>e.id===x?{...e,currentX:e.correctX,currentY:e.correctY,isSolved:!0}:e)),p(!1),g(null)},children:[(0,t.jsxs)(l.Card,{className:"p-4 w-full max-w-4xl bg-white/50 backdrop-blur-sm",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 justify-between items-center mb-4",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("span",{className:"font-semibold",children:"이미지:"}),(0,t.jsxs)(a.Select,{value:e,onValueChange:n,children:[(0,t.jsx)(a.SelectTrigger,{className:"w-[180px]",children:(0,t.jsx)(a.SelectValue,{placeholder:"이미지 선택"})}),(0,t.jsx)(a.SelectContent,{children:i.map(e=>(0,t.jsx)(a.SelectItem,{value:e.src,children:e.label},e.id))})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("span",{className:"font-semibold",children:"난이도:"}),(0,t.jsxs)(a.Select,{value:d.id,onValueChange:e=>h(c.find(t=>t.id===e)||c[0]),children:[(0,t.jsx)(a.SelectTrigger,{className:"w-[180px]",children:(0,t.jsx)(a.SelectValue,{placeholder:"난이도 선택"})}),(0,t.jsx)(a.SelectContent,{children:c.map(e=>(0,t.jsx)(a.SelectItem,{value:e.id,children:e.label},e.id))})]})]}),(0,t.jsx)(s.Button,{onClick:S,variant:"outline",children:"다시 시작"})]}),(0,t.jsxs)("div",{ref:w,className:"relative bg-gray-200 rounded-lg overflow-hidden shadow-inner mx-auto border-2 border-dashed border-gray-400",style:{width:N.width,height:N.height},children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-20 pointer-events-none",style:{backgroundImage:`url(${e})`,backgroundSize:"cover",backgroundPosition:"center"}}),u.map(e=>(0,t.jsx)("div",{onPointerDown:t=>C(t,e),className:`absolute cursor-grab active:cursor-grabbing transition-shadow ${e.isSolved?"z-0":"z-10 hover:z-20"}`,style:{left:e.currentX,top:e.currentY,width:X,height:Y}},e.id)),u.map(r=>{let s=.25*Math.min(X,Y),l=X+2*s,a=Y+2*s,i=r.currentX-s,c=r.currentY-s;return(0,t.jsx)("div",{onPointerDown:e=>C(e,r),className:`absolute cursor-grab active:cursor-grabbing ${r.isSolved?"z-0 pointer-events-none":"z-10 hover:z-20 drop-shadow-lg"}`,style:{transform:`translate(${i}px, ${c}px)`,width:l,height:a,touchAction:"none"},children:(0,t.jsxs)("svg",{width:l,height:a,viewBox:`0 0 ${l} ${a}`,children:[(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:`clip-${r.id}`,children:(0,t.jsx)("path",{d:o(X,Y,r.shape,s)})})}),(0,t.jsx)("image",{href:e,x:-r.correctX+s,y:-r.correctY+s,width:N.width,height:N.height,preserveAspectRatio:"none",clipPath:`url(#clip-${r.id})`}),(0,t.jsx)("path",{d:o(X,Y,r.shape,s),fill:"none",stroke:"rgba(0,0,0,0.3)",strokeWidth:"1"})]})},r.id)})]})]}),v&&(0,t.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:(0,t.jsxs)(l.Card,{className:"p-8 flex flex-col items-center gap-4 animate-in zoom-in",children:[(0,t.jsx)("h2",{className:"text-4xl font-bold text-primary",children:"축하합니다!"}),(0,t.jsx)("p",{className:"text-xl",children:"퍼즐을 완성하셨습니다!"}),(0,t.jsx)(s.Button,{onClick:S,size:"lg",children:"다시 하기"})]})})]})}function o(e,t,r,s){let l=`M ${s} ${s}`;if(0===r.top)l+=` L ${s+e} ${s}`;else{let t=s+e/2,a=r.top;l+=` L ${t-s/2} ${s} C ${t-s/2} ${s-a*s} ${t+s/2} ${s-a*s} ${t+s/2} ${s} L ${s+e} ${s}`}if(0===r.right)l+=` L ${s+e} ${s+t}`;else{let a=s+t/2,i=r.right;l+=` L ${s+e} ${a-s/2} C ${s+e+i*s} ${a-s/2} ${s+e+i*s} ${a+s/2} ${s+e} ${a+s/2} L ${s+e} ${s+t}`}if(0===r.bottom)l+=` L ${s} ${s+t}`;else{let a=s+e/2,i=r.bottom;l+=` L ${a+s/2} ${s+t} C ${a+s/2} ${s+t+i*s} ${a-s/2} ${s+t+i*s} ${a-s/2} ${s+t} L ${s} ${s+t}`}if(0===r.left)l+=` L ${s} ${s}`;else{let e=s+t/2,a=r.left;l+=` L ${s} ${e+s/2} C ${s-a*s} ${e+s/2} ${s-a*s} ${e-s/2} ${s} ${e-s/2} L ${s} ${s}`}return l}e.s(["default",()=>n])}]);